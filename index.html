<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Voting Counter</title>

<style>

body {
    font-family: Arial, sans-serif;
    background: #2f2f2f;
    margin: 0;
    padding: 30px;
    color: white;
}

/* GRID 3 ATAS 2 BAWAH CENTER */
.container {

    display: grid;
    grid-template-columns: repeat(3, 300px);
    gap: 25px;
    justify-content: center;

}

/* CARD */
.card {

    background: #6e6e6e;
    width: 300px;
    height: 300px;
    border-radius: 25px;
    position: relative;
    cursor: pointer;
    user-select: none;

    transition: transform 0.15s;
}

.card:hover {
    transform: scale(1.03);
}

/* NAMA */
.name {

    position: absolute;
    top: 20px;
    left: 20px;
    font-size: 36px;
    color: #e0e0e0;

}

/* ANGKA */
.score {

    position: absolute;
    bottom: 20px;
    right: 30px;
    font-size: 180px;
    color: yellow;
    line-height: 1;

}

/* EDIT ICON */
.edit {

    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 22px;
    cursor: pointer;

}

/* RESET BUTTON */
.reset {

    text-align: center;
    margin-top: 30px;

}

button {

    padding: 12px 30px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    cursor: pointer;

}

button:hover {
    opacity: 0.9;
}

</style>

</head>
<body>

<div class="container" id="container"></div>

<div class="reset">
<button onclick="resetAll()">Reset Semua</button>
</div>

<script>

const TOTAL = 5;

let data = JSON.parse(localStorage.getItem("votingData"));

/* INIT DATA */
if (!data || data.length !== TOTAL) {

    data = [

        { name: "Nama 1", score: 0 },
        { name: "Nama 2", score: 0 },
        { name: "Nama 3", score: 0 },
        { name: "Nama 4", score: 0 },
        { name: "Nama 5", score: 0 }

    ];

    save();
}

/* SAVE */
function save() {

    localStorage.setItem("votingData", JSON.stringify(data));

}

/* RENDER */
function render() {

    const container = document.getElementById("container");

    container.innerHTML = "";

    data.forEach((item, index) => {

        const card = document.createElement("div");
        card.className = "card";

        /* increment klik */
        card.onclick = () => increment(index);

        /* nama */
        const name = document.createElement("div");
        name.className = "name";
        name.innerText = item.name;

        /* score */
        const score = document.createElement("div");
        score.className = "score";
        score.innerText = item.score;

        /* edit */
        const edit = document.createElement("div");
        edit.className = "edit";
        edit.innerText = "âœŽ";

        edit.onclick = (e) => {

            e.stopPropagation();

            editName(index);

        };

        card.appendChild(name);
        card.appendChild(score);
        card.appendChild(edit);

        container.appendChild(card);

    });

}

/* INCREMENT */
function increment(index) {

    data[index].score++;

    save();

    render();

}

/* EDIT NAMA */
function editName(index) {

    const newName = prompt("Masukkan nama:", data[index].name);

    if (newName && newName.trim() !== "") {

        data[index].name = newName.trim();

        save();

        render();

    }

}

/* RESET */
function resetAll() {

    if (!confirm("Reset semua skor?")) return;

    data.forEach(item => item.score = 0);

    save();

    render();

}

/* INIT */
render();

</script>

</body>
</html>
